{"version":3,"sources":["components/filter.js","components/form.js","components/person.js","components/personList.js","Services/persons.js","app.js","index.js"],"names":["Filter","_ref","value","eventHandler","_jsxs","children","_jsx","onChange","Form","addPerson","nameValue","personEventHandler","numberValue","numberEventHandler","onSubmit","type","Person","person","handleDeletePerson","name","number","id","onClick","PersonList","persons","map","baseUrl","axios","get","then","response","data","newObject","post","put","concat","delete","App","_useState","useState","_useState2","_slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","newNameFilter","setNewNameFilter","_useState9","_useState10","addedMessage","setAddedMessage","_useState11","_useState12","addedMessageType","setAddedMessageType","useEffect","personService","initialPersons","checkDuplicate","arr","val","some","arrVal","AddNotification","message","className","event","target","preventDefault","originalPerson","find","original","window","confirm","personObject","_objectSpread","setTimeout","catch","error","filter","p","length","returnedPerson","toLowerCase","match","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.55147a6d.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({value,eventHandler}) => {\r\n  return (\r\n    <div>Filter shown with:\r\n      <input value={value} onChange={eventHandler} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from \"react\";\r\n\r\nconst Form = ({addPerson,nameValue,personEventHandler,numberValue,numberEventHandler}) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        <div>name: <input value={nameValue} onChange={personEventHandler} /></div>\r\n        <div>number: <input value={numberValue} onChange={numberEventHandler} /></div>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form","import React from \"react\";\r\n\r\nconst Person = ({person,handleDeletePerson}) => {\r\n  return (\r\n    <li key={person.name}>{person.name} {person.number} <button value={person.id} onClick={handleDeletePerson}>Delete</button> </li>\r\n  )\r\n}\r\n\r\nexport default Person","import Person from \"./person\";\r\nimport React from \"react\";\r\n\r\nconst PersonList = ({persons, eventHandler}) => {\r\n\r\n  return (\r\n    persons.map(person => <Person key={person.id} person={person} handleDeletePerson={eventHandler}/>)\r\n  )\r\n}\r\n\r\nexport default PersonList","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then()\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n  getAll: getAll,\r\n  create: create,\r\n  update: update,\r\n  deletePerson: deletePerson\r\n}","import React, {useEffect, useState} from 'react'\r\nimport Filter from \"./components/filter\";\r\nimport Form from \"./components/form\";\r\nimport PersonList from \"./components/personList\";\r\nimport personService from './Services/persons';\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newNameFilter, setNewNameFilter ] = useState('')\r\n  const [ addedMessage, setAddedMessage ] = useState(null)\r\n  const [ addedMessageType, setAddedMessageType ] = useState('')\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    if (checkDuplicate(persons, newName)) {\r\n      const originalPerson = persons.find(original => original.name == newName)\r\n      if (window.confirm(`${originalPerson.name} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const personObject = {\r\n          ...originalPerson,\r\n          number: newNumber\r\n        }\r\n\r\n        personService\r\n          .update(personObject.id,personObject)\r\n          .then(\r\n            response => {\r\n              setAddedMessage(`Replaced ${originalPerson.name} number successfully.`)\r\n              setAddedMessageType('message-info')\r\n              setTimeout(() => {\r\n                setAddedMessage(null)\r\n              }, 5000)\r\n              persons.map(person => person.id !== personObject.id ? person : response.data)\r\n            }\r\n          )\r\n          .catch(error => {\r\n            setAddedMessage(`Contact ${originalPerson.name} not found, please create it again.`)\r\n            setAddedMessageType('message-error')\r\n            setTimeout(() => {\r\n              setAddedMessage(null)\r\n            }, 5000)\r\n            setPersons(persons.filter(p => p.id !== originalPerson.id))\r\n          })\r\n      }\r\n      return\r\n    }\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n      id: persons[persons.length - 1].id + 1\r\n    }\r\n\r\n    personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setAddedMessage(`Added ${returnedPerson.name}.`)\r\n          setAddedMessageType('message-info')\r\n          setTimeout(() => {\r\n            setAddedMessage(null)\r\n          }, 5000)\r\n        }\r\n      )\r\n  }\r\n\r\n  const handleDeletePerson = (event) => {\r\n    event.preventDefault()\r\n    if (window.confirm(`Delete ${persons.find(person => person.id == event.target.value).name}?`)) {\r\n      personService\r\n        .deletePerson(event.target.value)\r\n        .then(\r\n          setPersons(persons.filter(p => p.id != event.target.value))\r\n        )\r\n    }\r\n  }\r\n\r\n  const handleNewPerson = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNewNumber = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleNameFilter = (event) => {\r\n    setNewNameFilter(event.target.value)\r\n  }\r\n\r\n  const checkDuplicate = (arr, val) => {\r\n    return arr.some(function(arrVal) {\r\n      return val === arrVal.name;\r\n    });\r\n  }\r\n\r\n  const AddNotification = ({ message, type }) => {\r\n    const success = {\r\n    }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <div className={type}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <AddNotification message={addedMessage} type={addedMessageType} />\r\n      <Filter value={newNameFilter} eventHandler={handleNameFilter} />\r\n      <h3>Add new contact</h3>\r\n      <Form addPerson={addPerson} nameValue={newName} personEventHandler={handleNewPerson} numberValue={newNumber} numberEventHandler={handleNewNumber}/>\r\n      <h3>Numbers</h3>\r\n      <ul>\r\n        <PersonList eventHandler={handleDeletePerson} persons={persons.filter(value => value.name.toLowerCase().match(newNameFilter.toLowerCase()))}/>\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './app';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}